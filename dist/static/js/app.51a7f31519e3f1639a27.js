webpackJsonp([1],{"5qmq":function(t,e){},EEbw:function(t,e){t.exports={version:"0.20.0"}},EjQw:function(t,e){},Mo7H:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},s,!1,function(t){n("5qmq")},null,null).exports,i=n("/ocq");const r={1:"Main Net",2:"Deprecated Morden test network",3:"Ropsten test network",4:"Rinkeby test network",42:"Kovan test network",4447:"Truffle Develop Network",5777:"Ganache Blockchain"};var c=n("NYxO"),u={name:"metamask-component",computed:Object(c.b)({isInjected:t=>t.web3.isInjected,network:t=>r[t.web3.networkId],coinbase:t=>t.web3.coinbase,balance:t=>web3.fromWei(t.web3.balance,"ether")})},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"metamask-info"},[t.isInjected?n("p",{staticClass:"has-metamask"},[n("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}}),t._v(" Metamask/Mist detected.")]):n("p",{staticClass:"no-metamask"},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}),t._v(" Metamask not found. In order to use the dapp consider installing Metamask extension or using Mist browser.")]),t._v(" "),n("p",[t._v("Network: "+t._s(t.network))]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:"Ropsten test network"!=t.network,expression:"network != 'Ropsten test network'"}],staticClass:"no-metamask"},[t._v("\n        You are not currently in the Ropsten Test Network. This dapp is currently being run in the Ropsten Test Network so that you do not have to spend any real value.\n        "),n("br"),t._v(" Do not send Eth to this contract if you are in other networks.\n    ")]),t._v(" "),n("p",[t._v("Account: "+t._s(t.coinbase))]),t._v(" "),"0"==t.balance?n("p",{staticClass:"no-metamask"},[t._v("Your balance is 0. You may not be able to use this dapp.")]):n("p",[t._v("Balance: "+t._s(t.balance)+" Eth ")])])},staticRenderFns:[]};var l=n("VU/8")(u,d,!1,function(t){n("EjQw")},"data-v-3729a0a4",null).exports;a.a.filter("two_digits",t=>t<0?"00":t.toString().length<=1?`0${t}`:t);var p={name:"countdown",mounted(){window.setInterval(()=>{this.now=Math.trunc((new Date).getTime()/1e3)},1e3)},props:{date:{type:String}},data:()=>({now:Math.trunc((new Date).getTime()/1e3)}),computed:{dateInMilliseconds(){return Math.trunc(Date.parse(this.date)/1e3)},seconds(){return(this.dateInMilliseconds-this.now)%60},minutes(){return Math.trunc((this.dateInMilliseconds-this.now)/60)%60},hours(){return Math.trunc((this.dateInMilliseconds-this.now)/60/60)%24},days(){return Math.trunc((this.dateInMilliseconds-this.now)/60/60/24)}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"countdown",attrs:{id:"countdown"}},[n("div",{staticClass:"block"},[n("p",{staticClass:"digit"},[t._v(t._s(t._f("two_digits")(t.days)))]),t._v(" "),n("p",{staticClass:"text"},[t._v("Days")])]),t._v(" "),n("div",{staticClass:"block"},[n("p",{staticClass:"digit"},[t._v(t._s(t._f("two_digits")(t.hours)))]),t._v(" "),n("p",{staticClass:"text"},[t._v("Hours")])]),t._v(" "),n("div",{staticClass:"block"},[n("p",{staticClass:"digit"},[t._v(t._s(t._f("two_digits")(t.minutes)))]),t._v(" "),n("p",{staticClass:"text"},[t._v("Minutes")])]),t._v(" "),n("div",{staticClass:"block"},[n("p",{staticClass:"digit"},[t._v(t._s(t._f("two_digits")(t.seconds)))]),t._v(" "),n("p",{staticClass:"text"},[t._v("Seconds")])])])])},staticRenderFns:[]};var y={name:"lottery",data:()=>({lotteryStart:"Loading...",lotteryDuration:"Loading...",poolPrize:"Loading...",totalPrizeAwarded:"Loading...",ticketPrice:0,ownerFee:"Loading...",nameChangePrice:null,contractOwner:"Loading...",ticketHolders:[],approvedBalance:null,addressName:"",addresses:"",ticketsToPurchase:1,ethToDonate:1,pendingBuy:!1,pendingWithdraw:!1,pendingEnd:!1,pendingDonate:!1,pendingChangeName:!1,ticketsIssued:[],ticketsOwned:[],awardedWinners:[],myTickets:0,totalTickets:0,chanceToWin:0,currentLotteryBlock:0,displayAwardedWinners:!1,displayTicketsIssued:!1,displayTicketsOwned:!1,displayPurchaseHistory:!1}),components:{countdown:n("VU/8")(p,m,!1,function(t){n("ViDc")},"data-v-479abce4",null).exports},created:function(){},computed:{ticketsPrice:function(){return this.ticketPrice?(this.ticketPrice*this.ticketsToPurchase).toFixed(1):"Loading..."},lotteryEnd:function(){let t=new Date(this.lotteryStart);t.setDate(t.getDate()+this.lotteryDuration/24);let e=new Date(t);return e.getFullYear().toString()+"-"+(2==(e.getMonth()+1).toString().length?(e.getMonth()+1).toString():"0"+(e.getMonth()+1).toString())+"-"+(2==e.getDate().toString().length?e.getDate().toString():"0"+e.getDate().toString())+" "+(2==e.getHours().toString().length?e.getHours().toString():"0"+e.getHours().toString())+":"+(2==(5*parseInt(e.getMinutes()/5)).toString().length?(5*parseInt(e.getMinutes()/5)).toString():"0"+(5*parseInt(e.getMinutes()/5)).toString())+":00"},lotteryEnded:function(){let t=new Date(this.lotteryStart);return t.setDate(t.getDate()+this.lotteryDuration/24),Date.now()>=t}},mounted(){let t=this;this.$store.dispatch("getContractInstance").then(setTimeout(()=>{t.getLotteryStart(),t.getLotteryDuration(),t.getPoolPrize(),t.getTotalPrizeAwarded(),t.getTicketPrice(),t.getOwnerFee(),t.getNameChangePrice(),t.getContractOwner(),t.getOwnAddressName(),t.watchAllEvents()},500))},methods:{updateLottery:function(){this.getLotteryStart(),this.getLotteryDuration(),this.getTotalPrizeAwarded()},getLotteryStart:function(){this.$store.state.contractInstance().lotteryStart((t,e)=>{t?console.log(t):this.lotteryStart=new Date(1e3*e).toUTCString()})},getLotteryDuration:function(){this.$store.state.contractInstance().lotteryDuration((t,e)=>{t?console.log(t):this.lotteryDuration=e/3600})},getPoolPrize:function(){this.$store.state.contractInstance().poolPrize((t,e)=>{t?console.log(t):this.poolPrize=web3.fromWei(parseInt(e,10),"ether")})},getTotalPrizeAwarded:function(){this.$store.state.contractInstance().totalPrizeAwarded((t,e)=>{t?console.log(t):this.totalPrizeAwarded=web3.fromWei(parseInt(e,10),"ether")})},getTicketPrice:function(){this.$store.state.contractInstance().ticketPrice((t,e)=>{t?console.log(t):this.ticketPrice=web3.fromWei(parseInt(e,10),"ether")})},getOwnerFee:function(){this.$store.state.contractInstance().ownerFee((t,e)=>{t?console.log(t):this.ownerFee=e})},getNameChangePrice:function(){this.$store.state.contractInstance().nameChangePrice((t,e)=>{t?console.log(t):this.nameChangePrice=web3.fromWei(parseInt(e,10),"ether")})},getContractOwner:function(){this.$store.state.contractInstance().owner((t,e)=>{t?console.log(t):this.contractOwner=e})},getAddressName:function(t){this.$store.state.contractInstance().addressToName(t,(t,e)=>t?(console.log(t),""):e)},getOwnAddressName:function(){this.$store.state.contractInstance().addressToName(this.$store.state.web3.coinbase,(t,e)=>{if(t)return console.log(t),"";this.addressName=e})},changeAddressName:function(){this.pendingChangeName=!0,this.$store.state.contractInstance().changeAddressName(this.addressName,{gas:3e5,value:this.$store.state.web3.web3Instance().toWei(this.nameChangePrice,"ether"),from:this.$store.state.web3.coinbase},(t,e)=>{t?(console.log(t),this.pendingChangeName=!1):this.pendingChangeName=!1})},getApprovedBalance:function(){let t=this;this.$store.state.contractInstance().approvedBalance(this.$store.state.web3.coinbase,(e,n)=>{e?console.log(e):t.approvedBalance=web3.fromWei(parseInt(n,10),"ether")})},buyTickets:function(){let t=this;this.pendingBuy=!0,this.$store.state.contractInstance().buyTickets({gas:3e5,value:this.$store.state.web3.web3Instance().toWei(this.ticketPrice*this.ticketsToPurchase,"ether"),from:this.$store.state.web3.coinbase},(e,n)=>{e?(console.log(e),t.pendingBuy=!1):t.pendingBuy=!1})},donate:function(){let t=this;this.pendingDonate=!0,this.$store.state.contractInstance().donate({gas:3e5,value:this.$store.state.web3.web3Instance().toWei(this.ethToDonate,"ether"),from:this.$store.state.web3.coinbase},(e,n)=>{e?(console.log(e),t.pendingDonate=!1):t.pendingDonate=!1})},endLottery:function(){let t=this;this.pendingEnd=!0,this.$store.state.contractInstance().generateWinner({gas:3e5,value:0,from:this.$store.state.web3.coinbase},(e,n)=>{e?(console.log(e),t.pendingEnd=!1):(t.updateLottery(),t.pendingEnd=!1)})},withdraw:function(){let t=this;this.pendingWithdraw=!0,this.$store.state.contractInstance().withdraw({gas:3e5,value:0,from:this.$store.state.web3.coinbase},(e,n)=>{e?(console.log(e),t.pendingWithdraw=!1):(t.getArrpovedBalance(),t.pendingWithdraw=!1)})},computeMyTickets:function(){let t=0;this.ticketsOwned.forEach(function(e){t+=e.quantity}),this.myTickets=t},computeTotalTickets:function(){let t=0;this.ticketsIssued.forEach(function(e){t+=e.quantity}),this.totalTickets=t},computeChanceToWin:function(){this.chanceToWin=this.myTickets/this.totalTickets*100},computePurchaseHistory:function(){this.eventMyTicketsBought(),this.displayPurchaseHistory=!this.displayPurchaseHistory},computeTicketsBought:function(){this.eventTicketsBought(),this.displayTicketsIssued=!this.displayTicketsIssued},watchAllEvents:function(){this.eventNewLottery(),this.eventAwardWinnings(),this.eventTicketsBought()},eventTicketsBought:function(){let t=this;this.$store.state.contractInstance().TicketsBought({},{fromBlock:this.currentLotteryBlock+1,toBlock:"latest"}).watch(function(e,n){e?console.log(e):t.ticketsIssued[n.transactionIndex]={address:n.args._from,quantity:parseInt(n.args._quantity,10),name:t.getAddressName(n.args._from)}})},eventMyTicketsBought:function(){let t=this;this.$store.state.contractInstance().TicketsBought({},{fromBlock:this.currentLotteryBlock+1,toBlock:"latest"}).watch(function(e,n){e?console.log(e):n.args._from==t.$store.state.web3.coinbase&&(t.ticketsOwned[n.transactionIndex]={address:n.args._from,quantity:parseInt(n.args._quantity,10),blockNumber:n.blockNumber},t.computeMyTickets(),t.computeTotalTickets(),t.computeChanceToWin())})},eventAwardWinnings:function(){let t=this;this.$store.state.contractInstance().AwardWinnings({},{fromBlock:0,toBlock:"latest"}).watch(function(e,n){e?console.log(e):t.awardedWinners[n.transactionIndex]={address:n.args._to,prize:web3.fromWei(parseInt(n.args._winnings,10),"ether"),name:t.getAddressName(n.args._to)}})},eventNewLottery:function(){let t=this;this.$store.state.contractInstance().NewLottery({},{fromBlock:0,toBlock:"latest"}).watch(function(e,n){e?console.log(e):n.blockNumber>t.currentLotteryBlock&&(t.currentLotteryBlock=n.blockNumber)})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lottery"},[n("h1",{staticStyle:{color:"red"}},[t._v("This is a test contract in the Ropsten Test Network. Please do not send Eth to this contract from other networks.")]),t._v(" "),n("h1",[t._v("Welcome to the Eth Lottery")]),t._v(" "),n("h4",[t._v("The Eth lottery currently runs each "+t._s(t.lotteryDuration)+" hours")]),t._v(" "),n("p",[t._v("Current round started at "+t._s(t.lotteryStart))]),t._v(" "),n("h3",[t._v("Current Prize: "+t._s(t.poolPrize)+" Eth!")]),t._v(" "),n("div",{attrs:{id:"countdown"}},[n("countdown",{attrs:{date:t.lotteryEnd}})],1),t._v(" "),t.lotteryEnded?n("div",[n("button",{staticClass:"btn btn-buy col-md-2",on:{click:t.endLottery}},[t._v("Check Winner")])]):t._e(),t._v(" "),t.pendingEnd?n("img",{attrs:{src:"https://loading.io/spinners/double-ring/lg.double-ring-spinner.gif"}}):t._e(),t._v(" "),n("hr"),t._v(" "),n("h5",[t._v("The current ticket price is "+t._s(t.ticketPrice)+" Eth")]),t._v(" "),n("div",{staticClass:"form-group col-sm-12"},[n("div",{staticClass:"col-sm-12"},[t._v("\n                Number of tickets to purchase: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.ticketsToPurchase,expression:"ticketsToPurchase"}],staticClass:"form-group number-input",attrs:{type:"number",placeholder:"Tickets to Purchase"},domProps:{value:t.ticketsToPurchase},on:{input:function(e){e.target.composing||(t.ticketsToPurchase=e.target.value)}}})]),t._v(" "),n("button",{staticClass:"form-control btn btn-buy col-sm-3",on:{click:t.buyTickets}},[t._v("\n                Buy "+t._s(t.ticketsToPurchase)+" Tickets for "+t._s(t.ticketsPrice)+" Eth\n            ")])]),t._v(" "),t.pendingBuy?n("img",{attrs:{src:"https://loading.io/spinners/double-ring/lg.double-ring-spinner.gif"}}):t._e(),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"carousel slide",attrs:{id:"optionsCarousel","data-ride":"carousel"}},[t._m(0),t._v(" "),n("div",{staticClass:"carousel-inner"},[n("div",{staticClass:"carousel-item active"},[n("div",{staticClass:"row options"},[n("div",{staticClass:"form-group col-sm-4"},[n("div",{staticClass:"col-sm-12"},[t._m(1),t._v(" "),n("h5",[t._v("Amount of Eth to donate:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.ethToDonate,expression:"ethToDonate"}],staticClass:"form-group number-input",attrs:{type:"number",placeholder:"Eth to donate"},domProps:{value:t.ethToDonate},on:{input:function(e){e.target.composing||(t.ethToDonate=e.target.value)}}})]),t._v(" "),n("button",{staticClass:"form-control btn btn-buy col-sm-8",on:{click:t.donate}},[t._v("\n                                Donate Eth\n                            ")])]),t._v(" "),t.approvedBalance?n("div",{staticClass:"col-sm-4"},[n("br"),t._v(" "),t.approvedBalance>0?n("div",[n("h5",[t._v("You have a prize of "+t._s(t.approvedBalance)+" Eth that can be withdrawn."),n("br")]),t._v(" "),n("button",{staticClass:"btn btn-info col-sm-8",on:{click:t.withdraw}},[t._v("Withdraw now")])]):n("div",[t._v("\n                                You do not have any unclaimed prize at this moment. Keep playing, and may the luck be on your side!\n                            ")])]):n("div",{staticClass:"col-sm-4"},[n("h6",[t._v("You can check if there is any prize from previous rounds that you did not already cashout.")]),t._v(" "),n("button",{staticClass:"form-control btn btn-display col-sm-8",on:{click:t.getApprovedBalance}},[t._v("Check my prizes")])]),t._v(" "),n("div",{staticClass:"form-group col-sm-4"},[t._m(2),t._v(" "),t.nameChangePrice?n("div",{staticClass:"col-sm-12"},[n("h5",[t._v("Change your address name for "+t._s(t.nameChangePrice)+" Eth.")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.addressName,expression:"addressName"}],staticClass:"form-group number-input",attrs:{type:"text",placeholder:"Your nickname",maxlength:"42"},domProps:{value:t.addressName},on:{input:function(e){e.target.composing||(t.addressName=e.target.value)}}}),t._v(" "),n("button",{staticClass:"form-control btn btn-buy col-sm-8",on:{click:t.changeAddressName}},[t._v("\n                                    Change Address Name\n                                ")])]):n("div",{staticClass:"col-sm-4"},[n("h6",[t._v("You can check if there is any prize from previous rounds that you did not already cashout.")]),t._v(" "),n("button",{staticClass:"form-control btn btn-display col-sm-8",on:{click:t.getApprovedBalance}},[t._v("Check my prizes")])])]),t._v(" "),t.pendingWithdraw||t.pendingDonate||t.pendingChangeName?n("img",{attrs:{src:"https://loading.io/spinners/double-ring/lg.double-ring-spinner.gif"}}):t._e()])]),t._v(" "),n("div",{staticClass:"carousel-item"},[n("div",{staticClass:"row options"},[n("div",{staticClass:"col-sm-4"},[n("button",{staticClass:"form-control btn btn-display col-sm-9",on:{click:function(e){t.displayAwardedWinners=!t.displayAwardedWinners}}},[t._v("See the list of winners")])]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("button",{staticClass:"form-control btn btn-display col-sm-9",on:{click:t.computeTicketsBought}},[t._v("See the tickets distribution")])]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("button",{staticClass:"form-control btn btn-display col-sm-9",on:{click:t.computePurchaseHistory}},[t._v("Purchase history")])]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.displayAwardedWinners,expression:"displayAwardedWinners"}]},[t._v("\n                                Winners: "),n("br"),t._v(" "),t._l(t.awardedWinners,function(e){return n("div",[e?n("span",[e.name?n("span",[t._v(t._s(e.name))]):n("span",[t._v(t._s(e.address))]),t._v("\n                                    got "+t._s(e.prize)+" Eth!\n                                ")]):t._e()])})],2)]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.displayTicketsIssued,expression:"displayTicketsIssued"}]},[t._v("\n                                Tickets: "),n("br"),t._v(" "),t._l(t.ticketsIssued,function(e){return n("div",[e?n("span",[e.name?n("span",[t._v(t._s(e.name))]):n("span",[t._v(t._s(e.address))]),t._v("\n                                    bought "+t._s(e.quantity)+" tickets!\n                                ")]):t._e()])})],2)]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.displayPurchaseHistory,expression:"displayPurchaseHistory"}]},[t.myTickets>0?n("div",[t._v("\n\t\t\t\t\t\t\t\t\tTickets: "),n("br"),t._v(" "),n("h5",[t._v("You have "+t._s(t.myTickets)+" tickets of the "+t._s(t.totalTickets)+" issued, which means your chances of winning are "+t._s(t.chanceToWin)+" %")]),t._v(" "),t._l(t.ticketsOwned,function(e){return n("div",[e?n("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t\tYou bought "+t._s(e.quantity)+" tickets at block #"+t._s(e.blockNumber)+"!\n\t\t\t\t\t\t\t\t\t\t")]):t._e()])})],2):n("div",[t._v("\n\t\t\t\t\t\t\t\t\tYou do not have any tickets purchased this round yet.\n\t\t\t\t\t\t\t\t")])])])])]),t._v(" "),t._m(3)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{staticClass:"carousel-indicators"},[e("li",{staticClass:"active",attrs:{"data-target":"#optionsCarousel","data-slide-to":"0"}}),this._v(" "),e("li",{attrs:{"data-target":"#optionsCarousel","data-slide-to":"1"}}),this._v(" "),e("li",{attrs:{"data-target":"#optionsCarousel","data-slide-to":"2"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",[this._v("If you want to contribute to the winning prize without participating you can donate to the prize pool.\n                                    The donations amount go entirely to the prize pool. "),e("br")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-12"},[e("h6",[this._v("If you want to be Internet famous you can set a nickname for your address.\n                                    Your name will be displayed in the winners and participatns list instead of your address.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel-item"},[n("div",{staticClass:"row options"},[n("div",{staticClass:"col-sm-6 mx-auto"},[t._v("\n                            How does it work: "),n("br"),t._v("\n                            The Eth lottery dapp is a decentralized application that runs in the Eth blockchain. "),n("br"),t._v("\n                            This means that every transaction made to this contract address is recorded in the blockchain and cannot be modified. "),n("br"),t._v("\n                            You can check every interaction with the contract in the explorer. "),n("br"),t._v("\n                            To have a chance at winning a prize you have two options: "),n("br"),t._v("\n                            You purchase any number of tickets by clicking the buy button or sending Eth directly to the contract. This will add the price of the tickets purchased to the prize pool, except for a small fee which will be used for development."),n("br"),t._v("\n                            You are the first person to check the winner. This method uses a little amount of gas to compute the lottery winner, so in order to compensate you for the work, you will get one free ticket. "),n("br"),t._v("\n                            After a winner is announced the lottery will restart and all previous purchased tickets will be discarded. "),n("br"),t._v("\n                            If you want to donate to the pool prize you can do so by using the donate button. The amount of the donation will revert entirely to the prize pool. "),n("br"),t._v("\n                            Thank you for using the Eth Lottery dapp. "),n("br")])])])}]};var b=n("VU/8")(y,h,!1,function(t){n("Mo7H")},"data-v-b5a73b52",null).exports,v={name:"lottery-dapp",data:()=>({isActive:!0}),beforeCreate(){this.$store.dispatch("registerWeb3")},components:{"metamask-component":l,"lottery-component":b}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav",{staticClass:"navbar navbar-default"},[e("div",{staticClass:"container-fluid"},[e("button",{staticClass:"btn btn-toggle btn-block",attrs:{type:"button","data-toggle":"collapse","data-target":"#network-navbar"}},[this._v("\n                    Toggle Network Details\n                ")]),this._v(" "),e("div",{staticClass:"collapse navbar-collapse show bg-colored",attrs:{id:"network-navbar","aria-expanded":"true"}},[e("metamask-component")],1)])]),this._v(" "),e("div",{attrs:{id:"content"}},[e("lottery-component")],1)])},staticRenderFns:[]};var w=n("VU/8")(v,g,!1,function(t){n("kWiu")},"data-v-7d8eca0c",null).exports;a.a.use(i.a);var f=new i.a({routes:[{path:"/",name:"lottery-dapp",component:w}]});var _={web3:{isInjected:!1,web3Instance:null,networkId:null,coinbase:null,balance:null,error:null},contractInstance:null},k=n("8k0n"),C=n.n(k);var T=new Promise(function(t,e){let n=window.web3;if(void 0!==n){let e=new C.a(n.currentProvider);t({injectedWeb3:e.isConnected(),web3:()=>e})}else e(new Error("Unable to connect to Metamask"))}).then(t=>new Promise(function(e,n){t.web3().version.getNetwork((a,s)=>{a?n(new Error("Unable to retrieve network ID")):(t=Object.assign({},t,{networkId:s}),e(t))})})).then(t=>new Promise(function(e,n){t.web3().eth.getCoinbase((a,s)=>{a?n(new Error("Unable to retrieve coinbase")):(t=Object.assign({},t,{coinbase:s}),e(t))})})).then(t=>new Promise(function(e,n){t.web3().eth.getBalance(t.coinbase,(a,s)=>{a?n(new Error("Unable to retrieve balance for address: "+t.coinbase)):(t=Object.assign({},t,{balance:s}),e(t))})}));var I=function(t){let e=window.web3;e=new C.a(e.currentProvider),setInterval(()=>{if(e&&M.state.web3.web3Instance)if(e.eth.coinbase!==M.state.web3.coinbase){let t=e.eth.coinbase;e.eth.getBalance(e.eth.coinbase,function(e,n){e?console.log(e):M.dispatch("pollWeb3",{coinbase:t,balance:parseInt(n,10)})})}else e.eth.getBalance(M.state.web3.coinbase,(t,e)=>{t?console.log(t):parseInt(e,10)!==M.state.web3.balance&&M.dispatch("pollWeb3",{coinbase:M.state.web3.coinbase,balance:e})})},500)};const P=[{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!1,inputs:[],name:"buyTickets",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_name",type:"string"}],name:"changeAddressName",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_duration",type:"uint256"}],name:"changeDuration",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_price",type:"uint256"}],name:"changeNameChangePrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_fee",type:"uint256"}],name:"changeOwnerFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_price",type:"uint256"}],name:"changeTicketPrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"destroy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_recipient",type:"address"}],name:"destroyAndSend",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"donate",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[],name:"generateWinner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!1,name:"_quantity",type:"uint256"}],name:"TicketsBought",type:"event"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[],name:"NewLottery",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_winnings",type:"uint256"}],name:"AwardWinnings",type:"event"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!1,inputs:[],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"addressToName",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"approvedBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"holders",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lotteryDuration",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lotteryStart",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nameChangePrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ownerFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"poolPrize",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ticketPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ticketsIssued",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalPrizeAwarded",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];var x=new Promise(function(t,e){t(new C.a(window.web3.currentProvider).eth.contract(P).at("0x4df97d21bc1cb5acc5253832c2ba34a58b835bcd"))});a.a.use(c.a);const M=new c.a.Store({strict:!0,state:_,mutations:{registerWeb3Instance(t,e){let n=e,a=t.web3;a.coinbase=n.coinbase,a.networkId=n.networkId,a.balance=parseInt(n.balance,10),a.isInjected=n.injectedWeb3,a.web3Instance=n.web3,t.web3=a,I()},pollWeb3Instance(t,e){t.web3.coinbase=e.coinbase,t.web3.balance=parseInt(e.balance,10)},registerContractInstance(t,e){t.contractInstance=(()=>e)}},actions:{registerWeb3({commit:t}){T.then(e=>{t("registerWeb3Instance",e)}).catch(t=>{console.log("error in action registerWeb3",t)})},pollWeb3({commit:t},e){t("pollWeb3Instance",e)},getContractInstance({commit:t}){x.then(e=>{t("registerContractInstance",e)}).catch(t=>console.log(t))}}});a.a.config.productionTip=!1,new a.a({el:"#app",router:f,store:M,components:{App:o},template:"<App/>"})},"R/pS":function(t,e){t.exports=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"name",outputs:[{name:"o_name",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"subRegistrar",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_registrar",type:"address"}],name:"setSubRegistrar",outputs:[],type:"function"},{constant:!1,inputs:[],name:"Registrar",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"},{name:"_primary",type:"bool"}],name:"setAddress",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_content",type:"bytes32"}],name:"setContent",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"disown",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_winner",type:"address"}],name:"AuctionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_bidder",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"NewBid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"},{indexed:!0,name:"addr",type:"address"}],name:"PrimaryChanged",type:"event"}]},UIsv:function(t,e){t.exports=[{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_refund",type:"address"}],name:"disown",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"}],name:"setAddr",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"}]},ViDc:function(t,e){},kWiu:function(t,e){},oPsS:function(t,e){t.exports=[{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"indirectId",type:"bytes32"},{name:"value",type:"uint256"}],name:"icapTransfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"to",type:"bytes32"}],name:"deposit",outputs:[],payable:!0,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"AnonymousDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"indirectId",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"IcapTransfer",type:"event"}]}},["NHnr"]);
//# sourceMappingURL=app.51a7f31519e3f1639a27.js.map